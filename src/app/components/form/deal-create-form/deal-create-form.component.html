<form method="post" [formGroup]="dealCreateForm" (submit)="onSubmit()" class="deal-create-form__wrapper">
    <h2 class="deal-create-form__title">Create Deal</h2>
    <p class="deal-create-form__description">Please, create deal</p>
    <div class="deal-create-form__inputs">
        <app-form-input
            formControlName="title"
            type="text"
            label="Title"
            placeholder="Title"
            name="title"
            id="title"
        >
            <p errors 
                *ngIf="(dealCreateForm.get('title')?.hasError('required') || dealCreateForm.get('title')?.value === '') 
                    && dealCreateForm.get('title')?.touched"
            >
                Title is required
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('title')?.getError('maxlength') 
                    && dealCreateForm.get('title')?.touched"
            >
                Max length is 255 symbols
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('title')?.getError('minlength') 
                    && dealCreateForm.get('title')?.touched"
            >
                Min length is 3 symbols
            </p>
        </app-form-input>
        <app-form-input
            formControlName="description"
            type="text"
            label="Description"
            placeholder="Description"
            name="description"
            id="description"
        >
            <p errors 
            *ngIf="(dealCreateForm.get('description')?.hasError('required') || dealCreateForm.get('description')?.value === '') 
                && dealCreateForm.get('description')?.touched"
            >
                Description is required
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('description')?.getError('maxlength') 
                    && dealCreateForm.get('description')?.touched"
            >
                Max length is 2000 symbols
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('description')?.getError('minlength') 
                    && dealCreateForm.get('description')?.touched"
            >
                Min length is 3 symbols
            </p>
        </app-form-input>
        <app-form-input
            formControlName="minPrice"
            type="number"
            label="Min price"
            placeholder="Min price"
            name="minPrice"
            id="minPrice"
        >
            <p errors 
            *ngIf="(dealCreateForm.get('minPrice')?.hasError('required') || dealCreateForm.get('minPrice')?.value === '') 
                && dealCreateForm.get('minPrice')?.touched"
            >
                Min price is required
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('minPrice')?.getError('max') 
                    && dealCreateForm.get('minPrice')?.touched"
            >
                Max is 1000000 
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('minPrice')?.getError('min') 
                    && dealCreateForm.get('minPrice')?.touched"
            >
                Min is 0
            </p>
            <p errors 
                *ngIf="dealCreateForm.errors?.['priceRange']
                    && dealCreateForm.get('minPrice')?.touched"
            >
                Min must be less than max
            </p>
        </app-form-input>
        <app-form-input
            formControlName="maxPrice"
            type="number"
            label="Max price"
            placeholder="Max price"
            name="maxPrice"
            id="maxPrice"
        >
            <p errors 
            *ngIf="(dealCreateForm.get('maxPrice')?.hasError('required') || dealCreateForm.get('maxPrice')?.value === '') 
                && dealCreateForm.get('maxPrice')?.touched"
            >
                Min price is required
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('maxPrice')?.getError('max') 
                    && dealCreateForm.get('maxPrice')?.touched"
            >
                Max is 1000000 
            </p>
            <p errors 
                *ngIf="dealCreateForm.get('maxPrice')?.getError('min') 
                    && dealCreateForm.get('maxPrice')?.touched"
            >
                Min is 0
            </p>
            <p errors 
                *ngIf="dealCreateForm.errors?.['priceRange']
                    && dealCreateForm.get('maxPrice')?.touched"
            >
                Max must be more than min
            </p>
            </app-form-input>
            <app-form-input
                formControlName="location"
                type="text"
                label="Location"
                placeholder="Location"
                name="location"
                id="location"
            >
                <p errors 
                *ngIf="(dealCreateForm.get('location')?.hasError('required') || dealCreateForm.get('location')?.value === '') 
                    && dealCreateForm.get('location')?.touched"
                >
                    Location is required
                </p>
                <p errors 
                    *ngIf="dealCreateForm.get('location')?.getError('maxlength') 
                        && dealCreateForm.get('location')?.touched"
                >
                    Max length is 255 symbols
                </p>
                <p errors 
                    *ngIf="dealCreateForm.get('location')?.getError('minlength') 
                        && dealCreateForm.get('location')?.touched"
                >
                    Min length is 3 symbols
                </p>
            </app-form-input>
            <label for="date">Aproximate date</label>
            <input type="date" formControlName="date">
            <app-category-input (toggleSelectionEvent)="toggleCategory($event)"></app-category-input>
        </div>
    <app-primary-button [text]="'Create'" type="submit" [disabled]="dealCreateForm.invalid"></app-primary-button>
</form>